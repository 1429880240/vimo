"use strict";function loadScript(t,e){var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t),i.appendChild(n),n.onload=function(){e&&e()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLATFORM_DEFAULT_CONFIGS=exports.SUBSET_LIST=void 0;var _util=require("../util/util"),SUBSET_LIST=exports.SUBSET_LIST=["wechat","alipay","dingtalk","qq","dtdream"],TIMEOUT=1e4,PLATFORM_DEFAULT_CONFIGS=exports.PLATFORM_DEFAULT_CONFIGS={mobile:{settings:{mode:"ios"}},android:{superset:"mobile",subsets:SUBSET_LIST,settings:{toolbarMinHeight:56,mode:"md",backButtonText:"返回",backButtonIcon:"icon-md-arrow-back",onPullIcon:"icon-md-arrow-down",iconMode:"md",menuType:"overlay",spinner:"crescent",scrollAssist:!1,tabsHighlight:!0,tabsPlacement:"bottom",tabsHideOnSubPages:!1,showIndicatorWhenPageChange:!0,pageTransition:"zoom-transition",pickerRotateFactor:0,pickerScaleFactor:.81},isMatch:function(t){return t.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:SUBSET_LIST,settings:{toolbarMinHeight:44,mode:"ios",backButtonText:"返回",backButtonIcon:"icon-ios-arrow-back",onPullIcon:"icon-ios-arrow-down",iconMode:"ios",menuType:"reveal",spinner:"ios",scrollAssist:!1,tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,showIndicatorWhenPageChange:!0,pageTransition:"fade-right-transition",statusbarPadding:!1,pickerRotateFactor:-.46,pickerScaleFactor:1},isMatch:function(t){return t.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},wechat:{initialize:function(t){var e=void 0,i=this,n=this.settings.jsSDKUrl,o=n.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?o[0]="https:":o[0]="http:",t.beforeReady=function(){loadScript(o.join("//"),function(){(0,_util.docReady)(function(){function e(){document.removeEventListener&&document.removeEventListener("WeixinJSBridgeReady",e),i.bridgeReady(t),t.triggerReady("Wechat Init Success!"),t.timer&&window.clearTimeout(t.timer)}void 0===window.WeixinJSBridge?document.addEventListener&&document.addEventListener("WeixinJSBridgeReady",e,!1):e()})}),t.timer=window.setTimeout(function(){t.triggerFail("Wechat Init Timeout!")},TIMEOUT)},e=t.userAgent().match(/NetType\/(\w+) /i),e&&e.length>0&&e[1]&&t.setNetType(e[1].toString().toLowerCase()),(e=t.userAgent().match(/Language\/(.+)/i))&&e.length>0&&e[1]&&t.setLang(e[1].toString().toLowerCase(),!0)},bridgeReady:function(t){},settings:{jsSDKUrl:"//res.wx.qq.com/open/js/jweixin-1.0.0.js",hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("wechat",["micromessenger"])},versionParser:function(t){return t.matchUserAgentVersion(/micromessenger\/(\d+).(\d+).(\d+)?/i)}},alipay:{initialize:function(t){var e=void 0,i=this,n=this.settings.jsSDKUrl,o=n.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?o[0]="https:":o[0]="http:",t.beforeReady=function(){loadScript(o.join("//"),function(){(0,_util.docReady)(function(){function e(){document.removeEventListener&&document.removeEventListener("AlipayJSBridgeReady",e),i.bridgeReady(t),t.triggerReady("Alipay Init Success!"),t.timer&&window.clearTimeout(t.timer)}void 0===window.AlipayJSBridge?document.addEventListener&&document.addEventListener("AlipayJSBridgeReady",e,!1):e()})}),t.timer=window.setTimeout(function(){t.triggerFail("Alipay Init Timeout!")},TIMEOUT)},e=t.userAgent().match(/AlipayDefined\(nt:(\w+),/i),e&&e.length>0&&e[1]&&t.setNetType(e[1].toString().toLowerCase()),t.netType=function(){window.ap&&window.ap.getNetworkType(function(t){return t.networkType})},(e=t.userAgent().match(/Language\/(.+)/i))&&e.length>0&&e[1]&&t.setLang(e[1].toString().toLowerCase(),!0)},bridgeReady:function(t){},settings:{jsSDKUrl:"//a.alipayobjects.com/g/h5-lib/alipayjsapi/3.0.2/alipayjsapi.min.js",hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("alipay",["alipay","alipayclient"])},versionParser:function(t){return t.matchUserAgentVersion(/alipayclient\/(\d+).(\d+).(\d+)?/i)}},dingtalk:{initialize:function(t){var e=this,i=this.settings.jsSDKUrl,n=i.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?n[0]="https:":n[0]="http:",t.beforeReady=function(){loadScript(n.join("//"),function(){(0,_util.docReady)(function(){e.bridgeReady(t),t.triggerReady("Dingtalk Init Success!"),t.timer&&window.clearTimeout(t.timer)})}),t.timer=window.setTimeout(function(){t.triggerFail("Dingtalk Init Timeout!")},TIMEOUT)};var o=t.userAgent().match(/language\/(.+)/i);o&&o.length>0&&o[1]&&t.setLang(o[1].toString().toLowerCase(),!0)},bridgeReady:function(t){},settings:{jsSDKUrl:"//g.alicdn.com/dingding/open-develop/1.5.1/dingtalk.js",hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("dingtalk")},versionParser:function(t){return t.matchUserAgentVersion(/dingtalk\/(\d+).(\d+).(\d+)?/i)}},qq:{initialize:function(t){var e=t.userAgent().match(/NetType\/(\w+)/i);e&&e.length>0&&e[1]&&t.setNetType(e[1].toString().toLowerCase()),this.bridgeReady(t),t.triggerReady("qq Init Success!")},bridgeReady:function(t){},settings:{hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("qq")},versionParser:function(t){return t.matchUserAgentVersion(/qq\/(\d+).(\d+).(\d+)?/i)}},dtdream:{initialize:function(t){var e=this,i=this.settings.jsSDKUrl,n=i.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?n[0]="https:":n[0]="http:",t.beforeReady=function(){loadScript(n.join("//"),function(){(0,_util.docReady)(function(){e.bridgeReady(t),t.triggerReady("Dtdream Init Success!"),t.timer&&window.clearTimeout(t.timer)})}),t.timer=window.setTimeout(function(){t.triggerFail("Dtdream Init Timeout!")},TIMEOUT)}},bridgeReady:function(t){},settings:{jsSDKUrl:"//115.29.248.20/testjs/test.js",hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("dtdream")},versionParser:function(t){return t.matchUserAgentVersion(/dtdream\/(\d+).(\d+).(\d+)?/i)}}};