"use strict";function isIOS(e){return e.testNavigatorPlatform("iphone|ipad|ipod")}function isSafari(e){return e.testUserAgent("Safari")}function isWKWebView(e){return isIOS(e)&&!!window.webkit}function isIosUIWebView(e){return isIOS(e)&&!isWKWebView(e)&&!isSafari(e)}function loadScript(e,t){var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),i.appendChild(n),n.onload=function(){t&&t()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLATFORM_DEFAULT_CONFIGS=exports.SUBSET_LIST=void 0;var _util=require("../util/util"),SUBSET_LIST=exports.SUBSET_LIST=["wechat","alipay","dingtalk","qq"],PLATFORM_DEFAULT_CONFIGS=exports.PLATFORM_DEFAULT_CONFIGS={mobile:{settings:{mode:"md",showIndicatorWhenPageChange:!0,regexps:{integer:/^-?[1-9]\d*$/,positiveInteger:/^[1-9]\d*$/,negativeInteger:/^-[1-9]\d*$/,email:/[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,ip:/(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)/,idCard:function(e){if(!e)return!1;if(e=e.toUpperCase(),!{11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}[e.substr(0,2)])return console.debug("地址编码错误"),!1;if(!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return console.debug("输入的身份证号长度不对，或者号码不符合规定！\n15位号码应全为数字，18位号码末位可以为数字或X。"),!1;var t,i,n,r,a,o,s,d;if(15===(i=e.length)){if(t=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/),n=e.match(t),r=new Date("19"+n[2]+"/"+n[3]+"/"+n[4]),r.getYear()===Number(n[2])&&r.getMonth()+1===Number(n[3])&&r.getDate()===Number(n[4])){for(a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=["1","0","X","9","8","7","6","5","4","3","2"],s=0,e=e.substr(0,6)+"19"+e.substr(6,e.length-6),d=0;d<17;d++)s+=e.substr(d,1)*a[d];return e+=o[s%11],!0}return console.debug("输入的身份证号里出生日期不对！"),!1}if(18===i){if(t=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/),n=e.match(t),r=new Date(n[2]+"/"+n[3]+"/"+n[4]),r.getFullYear()===Number(n[2])&&r.getMonth()+1===Number(n[3])&&r.getDate()===Number(n[4])){var c;for(a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=["1","0","X","9","8","7","6","5","4","3","2"],s=0,d=0;d<17;d++)s+=e.substr(d,1)*a[d];return(c=o[s%11])===e.substr(17,1)||(console.debug("18位身份证的校验码不正确！应该为："+c),!1)}return console.debug("输入的身份证号里出生日期不对！"),!1}return!1},password:/^[a-zA-Z]\w{5,17}$/,tel:/^(\(\d{3,4}\)|\d{3,4}-)?\d{7,8}$/,mobile:/^((13[0-9])|(14[0-9])|(15[0-9])|(18[0-9])|(17[0-9]))\d{8}$/,cn:/[\u4e00-\u9fa5]/,securityCode:/^\d{4,}$/,nickName:/[A-Za-z0-9_\-\u4e00-\u9fa5]+/,qq:/^[1-9][0-9]{4,}$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/},jsScrollOptions:{probeType:3}}},android:{superset:"mobile",subsets:SUBSET_LIST,settings:{toolbarMinHeight:56,hoverCSS:!1,mode:"md",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",menuType:"overlay",pickerRotateFactor:0,pickerScaleFactor:.81,spinner:"crescent",tabsHighlight:!0,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"zoom-transition",scrollAssist:!1,inputCloning:!0,autoFocusAssist:"immediate"},isMatch:function(e){return e.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(e){return e.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:SUBSET_LIST,settings:{hideNavBar:!1,toolbarMinHeight:44,hoverCSS:!1,mode:"ios",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",menuType:"reveal",spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"fade-right-transition",statusbarPadding:!1,scrollAssist:!1,activator:"highlight",pickerRotateFactor:-.46,pickerScaleFactor:1,autoFocusAssist:"delay",inputBlurring:!0,inputCloning:!0,tapPolyfill:isIosUIWebView,virtualScrollEventAssist:isIosUIWebView},isMatch:function(e){return e.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(e){return e.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},wechat:{initialize:function(e){var t=void 0,i=this,n=this.settings.jsSDKUrl||"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",r=n.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?r[0]="https:":r[0]="http:",loadScript(r.join("//")),t=e.userAgent().match(/NetType\/(\w+) /i),t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),t=e.userAgent().match(/Language\/(.+)/i),t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),e.beforeReady=function(){(0,_util.docReady)(function(){function t(){document.removeEventListener?document.removeEventListener("WeixinJSBridgeReady",t):document.detachEvent&&(document.detachEvent("WeixinJSBridgeReady",t),document.detachEvent("onWeixinJSBridgeReady",t)),i.onBridgeReady(e),e.triggerReady("wechat")}void 0===window.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t),document.attachEvent("onWeixinJSBridgeReady",t)):t()})}},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("wechat",["micromessenger"])},versionParser:function(e){return e.matchUserAgentVersion(/micromessenger\/(\d+).(\d+).(\d+)?/i)}},alipay:{initialize:function(e){var t=void 0;t=e.userAgent().match(/AlipayDefined\(nt:(\w+),/i),t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),t=e.userAgent().match(/Language\/(.+)/i),t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),this.onBridgeReady(e),e.triggerReady("alipay Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("alipay",["alipay","alipayclient"])},versionParser:function(e){return e.matchUserAgentVersion(/alipayclient\/(\d+).(\d+).(\d+)?/i)}},dingtalk:{initialize:function(e){var t=e.userAgent().match(/language\/(.+)/i);t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),this.onBridgeReady(e),e.triggerReady("dingtalk Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("dingtalk")},versionParser:function(e){return e.matchUserAgentVersion(/dingtalk\/(\d+).(\d+).(\d+)?/i)}},qq:{initialize:function(e){var t=e.userAgent().match(/NetType\/(\w+)/i);t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),this.onBridgeReady(e),e.triggerReady("qq Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("qq")},versionParser:function(e){return e.matchUserAgentVersion(/qq\/(\d+).(\d+).(\d+)?/i)}}};