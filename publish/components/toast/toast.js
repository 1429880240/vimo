"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ToastFactory(){var e=(0,_from2.default)(arguments),t={},o=document.getElementById(DOM_INSERT_POSITION)||document.getElementById(DOM_INSERT_POSITION_FALLBACK)||document.body,i=o.appendChild(document.createElement("div"));2===e.length&&(t={message:e[0],duration:e[1]}),1===e.length&&(0,_util.isString)(e[0])&&(t={message:e[0]}),1===e.length&&(0,_util.isObject)(e[0])&&(t=e[0]);var n=window.VM.platform.is("alipay")&&window.AlipayJSBridge&&!t.isH5,s=window.VM.platform.is("dingtalk")&&window.dd&&!t.isH5,a=window.VM.platform.is("dtdream")&&window.dd&&!t.isH5;return n?(console.info("Toast 组件使用Alipay模式!"),{present:function(){window.ap.showToast({content:t.message||"",type:t.type||"",duration:t.duration||2e3},function(){t.onDismiss&&t.onDismiss()})},dismiss:function(){window.ap.hideToast()}}):s?(console.info("Toast 组件使用DingTalk模式!"),{present:function(){"fail"===t.type&&(t.type="error"),window.dd.device.notification.toast({icon:t.type||"",text:t.message||"",duration:t.duration/1e3||2,delay:t.delay||0,onSuccess:function(){t.onDismiss&&t.onDismiss()}})},dismiss:function(){}}):a?(console.info("Toast 组件使用 DtDream 模式!"),{present:function(){"fail"===t.type&&(t.type="error"),window.dd.device.notification.toast({icon:t.type||"",text:t.message||"",duration:t.duration/1e3||2,delay:t.delay||0,onSuccess:function(){t.onDismiss&&t.onDismiss()}})},dismiss:function(){}}):(console.info("Toast 组件使用H5模式!"),new Toast({el:i,propsData:t}))}Object.defineProperty(exports,"__esModule",{value:!0});var _from=require("babel-runtime/core-js/array/from"),_from2=_interopRequireDefault(_from);exports.default=function(){var e=ToastFactory.apply(void 0,arguments);return e.present(),e};var _vue=require("vue"),_vue2=_interopRequireDefault(_vue),_util=require("../../util/util"),_toast=require("./toast.vue"),_toast2=_interopRequireDefault(_toast),Toast=_vue2.default.extend(_toast2.default),DOM_INSERT_POSITION="toastPortal",DOM_INSERT_POSITION_FALLBACK="app";