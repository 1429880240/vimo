"use strict";function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function LoadingFactory(i){var e=(0,_getInsertPosition.getInsertPosition)("loadingPortal").appendChild(document.createElement("div"));return(0,_util.isString)(i)&&(i={content:i}),new Loading({el:e,propsData:i})}function getPresentDismissIns(i){return{_i:null,present:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.VM.platform.is("alipay")&&window.AlipayJSBridge&&!n.isH5,o=window.VM.platform.is("dingtalk")&&window.dd&&!n.isH5,d=window.VM.platform.is("dtdream")&&window.dd&&!n.isH5;return(0,_util.isString)(n)&&(n={content:n}),t?(console.info("Loading 组件使用Alipay模式!"),new _promise2.default(function(i){window.AlipayJSBridge.call("showLoading",{delay:n.delay||0,text:n.content||""}),i()})):o?(console.info("Loading 组件使用DingTalk模式!"),new _promise2.default(function(i){window.dd.device.notification.showPreloader({text:n.content||"",showIcon:!0}),i()})):d?(console.info("Loading 组件使用 DtDream 模式!"),new _promise2.default(function(i){window.dd.device.notification.showPreloader({text:n.content||"",showIcon:!0}),i()})):(console.info("Loading 组件使用H5模式!"),new _promise2.default(function(t){e._i&&e._i.isActive?e._i.dismiss().then(function(){e._i=i(n),e._i.present().then(function(){t()})}):(e._i=i(n),e._i.present().then(function(){t()}))}))},dismiss:function(){var i=this;return new _promise2.default(function(e){window.AlipayJSBridge&&window.AlipayJSBridge.call("hideLoading"),window.dd&&window.dd.device.notification.hidePreloader(),i._i&&i._i.isActive?i._i.dismiss().then(function(){e()}):e()})}}}Object.defineProperty(exports,"__esModule",{value:!0});var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_vue=require("vue"),_vue2=_interopRequireDefault(_vue),_getInsertPosition=require("../../util/getInsertPosition"),_util=require("../../util/util"),_loading=require("./loading.vue"),_loading2=_interopRequireDefault(_loading),Loading=_vue2.default.extend(_loading2.default),loadingInstance=getPresentDismissIns(LoadingFactory);exports.default=loadingInstance;