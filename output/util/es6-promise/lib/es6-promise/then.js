"use strict";function then(e,r){var n=this,t=new this.constructor(_internal.noop);void 0===t[_internal.PROMISE_ID]&&(0,_internal.makePromise)(t);var a=n._state;if(a){var i=arguments[a-1];(0,_asap.asap)(function(){return(0,_internal.invokeCallback)(a,t,i,n._result)})}else(0,_internal.subscribe)(n,t,e,r);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=then;var _internal=require("./-internal"),_asap=require("./asap");