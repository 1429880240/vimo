"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function LoadingFactory(e){var t=void 0,i=null,r=window.VM&&window.VM.config.get("spinner","ios")||"ios",n=null,s=0,o=null,u=!0,l=!1,_=window.VM&&window.VM.config.get("mode","ios")||"ios";return t=document.getElementById(DOM_INSERT_POSITION)||document.getElementById(DOM_INSERT_POSITION_FALLBACK)||document.body,i=t.appendChild(document.createElement("div")),(0,_util.isString)(e)&&(n=e),(0,_util.isObject)(e)&&(r=(0,_util.isPresent)(e.spinner)?e.spinner.trim():null,n=(0,_util.isPresent)(e.content)?e.content.trim():null,s=(0,_util.isNumber)(e.duration)?parseInt(e.duration):s,o=(0,_util.isPresent)(e.cssClass)?e.cssClass.trim():null,u=!!e.showBackdrop,l=!!e.dismissOnPageChange,_=(0,_util.isPresent)(e.mode)?e.mode.trim():_),new Loading({el:i,spinner:r,content:n,duration:s,cssClass:o,showBackdrop:u,dismissOnPageChange:l,mode:_})}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),_vue=require("vue"),_vue2=_interopRequireDefault(_vue),_util=require("../../util/util"),_loading=require("./loading.vue"),_loading2=_interopRequireDefault(_loading),LoadingConstructor=_vue2.default.extend(_loading2.default),DOM_INSERT_POSITION="loadingPortal",DOM_INSERT_POSITION_FALLBACK="app",Loading=function(e){function t(e){(0,_classCallCheck3.default)(this,t);var i=(0,_possibleConstructorReturn3.default)(this,(t.__proto__||(0,_getPrototypeOf2.default)(t)).call(this,e));if((0,_util.isObject)(e))for(var r in e)i[r]=e[r];return i}return(0,_inherits3.default)(t,e),t}(LoadingConstructor);exports.default={_i:null,present:function(e){var t=this;if(!this._i||!this._i.isActive)return this._i=LoadingFactory(e),this._i.present(),this._i;this._i.dismiss().then(function(){return t._i=LoadingFactory(e),t._i.present(),t._i})},dismiss:function(){return this._i&&this._i.dismiss()}};