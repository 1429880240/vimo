"use strict";function isIOS(e){return e.testNavigatorPlatform("iphone|ipad|ipod")}function isSafari(e){return e.testUserAgent("Safari")}function isWKWebView(e){return isIOS(e)&&!!window.webkit}function isIosUIWebView(e){return isIOS(e)&&!isWKWebView(e)&&!isSafari(e)}function loadScript(e,t){var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),i.appendChild(n),n.onload=function(){t&&t()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLATFORM_DEFAULT_CONFIGS=exports.SUBSET_LIST=void 0;var _util=require("../util/util"),SUBSET_LIST=exports.SUBSET_LIST=["wechat","alipay","dingtalk","qq"],PLATFORM_DEFAULT_CONFIGS=exports.PLATFORM_DEFAULT_CONFIGS={mobile:{settings:{mode:"md"}},android:{superset:"mobile",subsets:SUBSET_LIST,settings:{toolbarMinHeight:56,hoverCSS:!1,mode:"md",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",menuType:"overlay",pickerRotateFactor:0,pickerScaleFactor:.81,spinner:"crescent",tabsHighlight:!0,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"fade-bottom-transition",scrollAssist:!0,inputCloning:!0,autoFocusAssist:"immediate"},isMatch:function(e){return e.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(e){return e.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:SUBSET_LIST,settings:{hideNavBar:!1,toolbarMinHeight:44,hoverCSS:!1,mode:"ios",activator:"highlight",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",menuType:"reveal",pickerRotateFactor:-.46,pickerScaleFactor:1,spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"ios-transition",statusbarPadding:!1,autoFocusAssist:"delay",inputBlurring:!0,inputCloning:!0,scrollAssist:!0,swipeBackEnabled:!0,tapPolyfill:isIosUIWebView,virtualScrollEventAssist:isIosUIWebView,disableScrollAssist:!0},isMatch:function(e){return e.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(e){return e.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},wechat:{initialize:function(e){var t=void 0,i=this.settings.jsSDKUrl||"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",n=i.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?n[0]="https:":n[0]="http:",i=n.join("//"),loadScript(i),t=e.userAgent().match(/NetType\/(\w+) /i),t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),t=e.userAgent().match(/Language\/(.+)/i),t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),e.beforeReady=function(){(0,_util.docReady)(function(){function t(){document.removeEventListener?document.removeEventListener("WeixinJSBridgeReady",t):document.detachEvent&&(document.detachEvent("WeixinJSBridgeReady",t),document.detachEvent("onWeixinJSBridgeReady",t)),this.onBridgeReady(e),e.triggerReady("wechat")}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t),document.attachEvent("onWeixinJSBridgeReady",t)):t()})}},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("wechat",["micromessenger"])},versionParser:function(e){return e.matchUserAgentVersion(/micromessenger\/(\d+).(\d+).(\d+)?/i)}},alipay:{initialize:function(e){var t=void 0;t=e.userAgent().match(/AlipayDefined\(nt:(\w+),/i),t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),t=e.userAgent().match(/Language\/(.+)/i),t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),this.onBridgeReady(e),e.triggerReady("alipay Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("alipay",["alipay","alipayclient"])},versionParser:function(e){return e.matchUserAgentVersion(/alipayclient\/(\d+).(\d+).(\d+)?/i)}},dingtalk:{initialize:function(e){var t=e.userAgent().match(/language\/(.+)/i);t&&t.length>0&&t[1]&&e.setLang(t[1].toString().toLowerCase(),!0),this.onBridgeReady(e),e.triggerReady("dingtalk Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("dingtalk")},versionParser:function(e){return e.matchUserAgentVersion(/dingtalk\/(\d+).(\d+).(\d+)?/i)}},qq:{initialize:function(e){var t=e.userAgent().match(/NetType\/(\w+)/i);t&&t.length>0&&t[1]&&e.setNetType(t[1].toString().toLowerCase()),this.onBridgeReady(e),e.triggerReady("qq Init Success!")},onBridgeReady:function(e){},settings:{hideNavBar:!0},isMatch:function(e){return e.isPlatformMatch("qq")},versionParser:function(e){return e.matchUserAgentVersion(/qq\/(\d+).(\d+).(\d+)?/i)}}};