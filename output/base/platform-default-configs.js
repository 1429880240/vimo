"use strict";function isIOS(t){return t.testNavigatorPlatform("iphone|ipad|ipod")}function isSafari(t){return t.testUserAgent("Safari")}function isWKWebView(t){return isIOS(t)&&!!window.webkit}function isIosUIWebView(t){return isIOS(t)&&!isWKWebView(t)&&!isSafari(t)}function loadScript(t,e){var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t),i.appendChild(n),n.onload=function(){e&&e()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLATFORM_DEFAULT_CONFIGS=exports.SUBSET_LIST=void 0;var _util=require("../util/util"),SUBSET_LIST=exports.SUBSET_LIST=["wechat","alipay","dingtalk","qq"],PLATFORM_DEFAULT_CONFIGS=exports.PLATFORM_DEFAULT_CONFIGS={mobile:{settings:{mode:"md"}},android:{superset:"mobile",subsets:SUBSET_LIST,settings:{toolbarMinHeight:56,hoverCSS:!1,mode:"md",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",menuType:"overlay",pickerRotateFactor:0,pickerScaleFactor:.81,spinner:"crescent",tabsHighlight:!0,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"fade-bottom-transition",scrollAssist:!0,inputCloning:!0,autoFocusAssist:"immediate"},isMatch:function(t){return t.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:SUBSET_LIST,settings:{hideNavBar:!1,toolbarMinHeight:44,hoverCSS:!1,mode:"ios",activator:"highlight",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",menuType:"reveal",pickerRotateFactor:-.46,pickerScaleFactor:1,spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,pageTransition:"ios-transition",statusbarPadding:!1,autoFocusAssist:"delay",inputBlurring:!0,inputCloning:!0,scrollAssist:!0,swipeBackEnabled:!0,tapPolyfill:isIosUIWebView,virtualScrollEventAssist:isIosUIWebView,disableScrollAssist:!0},isMatch:function(t){return t.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},wechat:{initialize:function(t){var e=void 0,i=this.onBridgeReady||function(){},n=this.settings.jsSDKUrl||"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",a=n.split("//");window.location.protocol.toLowerCase().indexOf("https")>-1?a[0]="https:":a[0]="http:",n=a.join("//"),loadScript(n),e=t.userAgent().match(/NetType\/(\w+) /i),e&&e.length>0&&e[1]&&t.setNetType(e[1].toString().toLowerCase()),e=t.userAgent().match(/Language\/(.+)/i),e&&e.length>0&&e[1]&&t.setLang(e[1].toString().toLowerCase(),!0),t.beforeReady=function(){(0,_util.docReady)(function(){function e(){document.removeEventListener?document.removeEventListener("WeixinJSBridgeReady",e):document.detachEvent&&(document.detachEvent("WeixinJSBridgeReady",e),document.detachEvent("onWeixinJSBridgeReady",e)),i(t),t.triggerReady("wechat")}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()})}},settings:{hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("wechat",["micromessenger"])},versionParser:function(t){return t.matchUserAgentVersion(/micromessenger\/(\d+).(\d+).(\d+)?/i)}},alipay:{initialize:function(t){var e=window.navigator.userAgent.toString().trim(),i=void 0;t.setUserAgent(e),i=e.match(/AlipayDefined\(nt:(\w+),/i),i&&i.length>0&&i[1]&&t.setNetType(i[1].toString().toLowerCase()),i=e.match(/Language\/(.+)/i),i&&i.length>0&&i[1]&&t.setLang(i[1].toString().toLowerCase(),!0),t.triggerReady("alipay Init Success!")},settings:{hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("alipay",["alipay","alipayclient"])},versionParser:function(t){return t.matchUserAgentVersion(/alipayclient\/(\d+).(\d+).(\d+)?/i)}},dingtalk:{initialize:function(t){var e=window.navigator.userAgent.toString().trim(),i=void 0;t.setUserAgent(e),i=e.match(/language\/(.+)/i),i&&i.length>0&&i[1]&&t.setLang(i[1].toString().toLowerCase(),!0),t.triggerReady("dingtalk Init Success!")},settings:{hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("dingtalk")},versionParser:function(t){return t.matchUserAgentVersion(/dingtalk\/(\d+).(\d+).(\d+)?/i)}},qq:{initialize:function(t){var e=window.navigator.userAgent.toString().trim(),i=void 0;t.setUserAgent(e),i=e.match(/NetType\/(\w+)/i),i&&i.length>0&&i[1]&&t.setNetType(i[1].toString().toLowerCase()),t.triggerReady("qq Init Success!")},settings:{hideNavBar:!0},isMatch:function(t){return t.isPlatformMatch("qq")},versionParser:function(t){return t.matchUserAgentVersion(/qq\/(\d+).(\d+).(\d+)?/i)}}};