<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>toggle/toggle.vue - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Modal.html">Modal</a></li></ul><h3>Modules</h3><ul><li><a href="module-Component_ActionSheet.html">Component/ActionSheet</a><ul class='methods'><li data-type='method'><a href="module-Component_ActionSheet.html#~dismiss">dismiss</a></li><li data-type='method'><a href="module-Component_ActionSheet.html#~present">present</a></li></ul></li><li><a href="module-Component_Alert.html">Component/Alert</a><ul class='methods'><li data-type='method'><a href="module-Component_Alert.html#~dismiss">dismiss</a></li><li data-type='method'><a href="module-Component_Alert.html#~present">present</a></li></ul></li><li><a href="module-Component_App.html">Component/App</a><ul class='methods'><li data-type='method'><a href="module-Component_App.html#~isEnabled">isEnabled</a></li><li data-type='method'><a href="module-Component_App.html#~isScrolling">isScrolling</a></li><li data-type='method'><a href="module-Component_App.html#~setDisableScroll">setDisableScroll</a></li><li data-type='method'><a href="module-Component_App.html#~setEnabled">setEnabled</a></li><li data-type='method'><a href="module-Component_App.html#~setTitle">setTitle</a></li></ul></li><li><a href="module-Component_Backdrop.html">Component/Backdrop</a></li><li><a href="module-Component_Content.html">Component/Content</a><ul class='methods'><li data-type='method'><a href="module-Component_Content.html#~getContentDimensions">getContentDimensions</a></li><li data-type='method'><a href="module-Component_Content.html#~resize">resize</a></li><li data-type='method'><a href="module-Component_Content.html#~scrollTo">scrollTo</a></li><li data-type='method'><a href="module-Component_Content.html#~scrollToBottom">scrollToBottom</a></li><li data-type='method'><a href="module-Component_Content.html#~scrollToTop">scrollToTop</a></li></ul></li><li><a href="module-Component_Footer.html">Component/Footer</a></li><li><a href="module-Component_Grid.html">Component/Grid</a></li><li><a href="module-Component_Header.html">Component/Header</a></li><li><a href="module-Component_Icon.html">Component/Icon</a></li><li><a href="module-Component_Img.html">Component/Img</a></li><li><a href="module-Component_InfiniteScroll.html">Component/InfiniteScroll</a><ul class='methods'><li data-type='method'><a href="module-Component_InfiniteScroll.html#~complete">complete</a></li><li data-type='method'><a href="module-Component_InfiniteScroll.html#~enable">enable</a></li><li data-type='method'><a href="module-Component_InfiniteScroll.html#~waitFor">waitFor</a></li></ul></li><li><a href="module-Component_Label.html">Component/Label</a></li><li><a href="module-Component_Loading.html">Component/Loading</a></li><li><a href="module-Component_Refresher.html">Component/Refresher</a><ul class='methods'><li data-type='method'><a href="module-Component_Refresher.html#~cancel">cancel</a></li><li data-type='method'><a href="module-Component_Refresher.html#~complete">complete</a></li></ul></li><li><a href="module-Component_Spinner.html">Component/Spinner</a></li><li><a href="module-Component_Tab.html">Component/Tab</a></li><li><a href="module-Component_Tabs.html">Component/Tabs</a><ul class='methods'><li data-type='method'><a href="module-Component_Tabs.html#~getActivatedIndex">getActivatedIndex</a></li><li data-type='method'><a href="module-Component_Tabs.html#~getByIndex">getByIndex</a></li><li data-type='method'><a href="module-Component_Tabs.html#~getSelected">getSelected</a></li><li data-type='method'><a href="module-Component_Tabs.html#~select">select</a></li></ul></li><li><a href="module-Component_Toast.html">Component/Toast</a></li><li><a href="module-Component_Toggle.html">Component/Toggle</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:onInfinite">onInfinite</a></li><li><a href="global.html#event:onScroll">onScroll</a></li><li><a href="global.html#event:onScrollEnd">onScrollEnd</a></li><li><a href="global.html#event:onScrollStart">onScrollStart</a></li></ul><h3>Global</h3><ul><li><a href="global.html#dismiss">dismiss</a></li><li><a href="global.html#getAnInstance">getAnInstance</a></li><li><a href="global.html#Input/Textarea">Input/Textarea</a></li><li><a href="global.html#present">present</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">toggle/toggle.vue</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;template>
    &lt;div class="ion-toggle"
         :class="[modeClass,colorClass,{'toggle-disabled':isDisabled}]"
         @mousedown="pointStart($event)"
         @touchstart="pointStart($event)"
         @mouseup="pointEnd($event)"
         @touchend="pointEnd($event)"
         @click="clickHandler($event)">
        &lt;div class="toggle-icon" :class="{'toggle-checked':isChecked,'toggle-activated':activated}">
            &lt;div class="toggle-inner">&lt;/div>
        &lt;/div>
        &lt;Button role="checkbox"
                type="button"
                ion-button="item-cover"
                :id="id"
                class="item-cover">
        &lt;/Button>
    &lt;/div>
&lt;/template>
&lt;style lang="scss">
    @import 'toggle.ios.scss';
    @import 'toggle.md.scss';
&lt;/style>
&lt;script type="text/ecmascript-6">
  /**
   * @module Component/Toggle
   * @description
   *
   * Toggle组件和Checkbox组件的功能类似, 但是Toggle组件在移动端更加好看, 也更加易用.
   *
   * Toggle可以设置颜色, 当然不同模式下的样式还是不一样的, 感兴趣的可以切换试试.
   *
   * @property {String} [mode='ios'] - 模式: "ios", "md", or "wp"
   * @property {String} [color] - 颜色: "primary", "secondary", "danger", "light", and "dark"
   * @property {Boolean} [checked=false] - 选中状态, 一般用于初始值, 且无v-model的情况, 如果v-model和checked都使用的话, 则使用`||`选择
   * @property {Boolean} [disabled=false] - 禁用状态
   *
   * @fires onChange - Toggle组件切换时发出的事件, 传递当前的选中状态
   *
   * @example
   *
   &lt;List>
   &lt;ListHeader>
   普通使用
   &lt;/ListHeader>
   &lt;Item>
   Toggle Normal
   &lt;Toggle slot="item-right">&lt;/Toggle>
   &lt;/Item>
   &lt;Item>
   Red Toggle
   &lt;Toggle slot="item-right" color="danger">&lt;/Toggle>
   &lt;/Item>
   &lt;Item>
   Toggle Open
   &lt;Toggle slot="item-right" :checked="true">&lt;/Toggle>
   &lt;/Item>
   &lt;Item>
   Toggle Close
   &lt;Toggle slot="item-right" :checked="false">&lt;/Toggle>
   &lt;/Item>
   &lt;Item>
   Toggle Disabled
   &lt;Toggle slot="item-right" v-model="checked">&lt;/Toggle>
   &lt;/Item>
   &lt;/List>
   *
   * */
  import { setElementClass } from '../../util/dom';
  import { isTrueProperty } from '../../util/util';

  export default{
    name: 'Toggle',
    data(){
      return {
        isChecked: false, // 选中状态
        isDisabled: false, // 禁用状态
        activated: false,
        id: this._uid,
        _item: null, // 父组件item的句柄
      }
    },
    props: {
      /**
       * mode 按钮风格 ios/window/android/we/alipay
       * */
      mode: {
        type: String,
        default(){ return window.VM &amp;&amp; window.VM.config.get('mode') || 'ios' }
      },
      /**
       * 按钮color：primary、secondary、danger、light、dark
       * */
      color: {
        type: String,
        default: '',
      },
      /**
       * 是否选中
       * */
      checked: {
        type: Boolean,
        default: false,
      },
      /**
       * 是否被禁
       * */
      disabled: {
        type: Boolean,
        default: false,
      },

      // 内部值
      value: {
        type: Boolean,
        default: false,
      },
    },
    watch: {
      disabled(val){
        this.setDisabled(val);
      },
      checked(val){
        this.setChecked(val);
      },
      value(val){
        this.setChecked(val);
      },
    },
    computed: {
      // 环境样式
      modeClass () {
        return `toggle toggle-${this.mode}`
      },
      // 颜色
      colorClass () {
        return !!this.color ? (`toggle-${this.mode}-${this.color}`) : ''
      },

    },
    methods: {

      // -------- private --------
      pointStart () {
        this.activated = true;
      },
      pointEnd () {
        this.activated = false;
      },
      clickHandler () {
        this.setChecked(!this.isChecked)
      },

      /**
       * 设置为被点击状态
       * @param {boolean} isChecked
       */
      setChecked(isChecked) {
        isChecked = isTrueProperty(isChecked);
        if (isChecked !== this.isChecked) {
          this.isChecked = isChecked;
          this.$emit('onChange', isChecked);
          this.$emit('input', isChecked)
          this.setItemCheckedClass(isChecked)
        }
      },
      setItemCheckedClass(isChecked){
        this._item &amp;&amp; this._item.$el &amp;&amp; setElementClass(this._item.$el, 'item-toggle-checked', isChecked);
      },

      /**
       * 设置禁用状态
       * @param {boolean} isDisabled
       */
      setDisabled(isDisabled){
        isDisabled = isTrueProperty(isDisabled);
        if (isDisabled !== this.isDisabled) {
          this.isDisabled = isDisabled;
          this.setItemDisabledClass(isDisabled)
        }
      },
      setItemDisabledClass(isDisabled){
        this._item &amp;&amp; this._item.$el &amp;&amp; setElementClass(this._item.$el, 'item-toggle-disabled', isDisabled);
      },

      /**
       * init
       * 为父元素item设置class需要等待mounted之后
       */
      init(){
        if (!!this.$parent &amp;&amp; !!this.$parent.$options._componentTag &amp;&amp; this.$parent.$options._componentTag.toLowerCase() === 'item') {
          this._item = this.$parent;
          if (this._item.$el) {
            setElementClass(this._item.$el, 'item-toggle', true);
            this.setItemCheckedClass(this.isChecked);
            this.setItemDisabledClass(this.isDisabled);
          }
        }
      }
    },
    created(){
      this.setChecked(this.checked || this.value);
      this.setDisabled(this.disabled);
    },
    mounted () {
      this.init();
    }
  }
&lt;/script>
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Mar 22 2017 21:00:31 GMT+0800 (CST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
