<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>util/util.js - Documentation</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>

    <section class="vimo">
        <div class="vimo__imgBox">
            <img class="vimo__imgBox--img" src="./asset/vimo.png">
        </div>

        <div class="vimo__title">
            <h2>VIMO</h2>
            <!--<p>beta</p>-->
            <p>基于Vue2.x的移动端Hybrid框架</p>
        </div>
        <div class="vimo__iframe">
            <iframe src="https://ghbtns.com/github-btn.html?user=DTFE&amp;repo=Vimo&amp;type=star&amp;count=true"
                    frameborder="0" scrolling="0" width="110px" height="20px"
                    class="enter-transition"
                    style=""></iframe>
            <iframe src="https://ghbtns.com/github-btn.html?user=DTFE&amp;repo=Vimo&amp;type=fork&amp;count=true"
                    frameborder="0" scrolling="0" width="95px" height="20px"
                    class="enter-transition"
                    style=""></iframe>
        </div>

    </section>

    <h2><a href="index.html">首页 / Home</a></h2><h2><a href="https://github.com/DTFE/vimo-start-kit">如何开始 / How To Start</a></h2><h2><a href="https://github.com/DTFE/Vimo/blob/master/CHANGELOG.md">更新日志 / Change Log</a></h2><h3>类 / Classes</h3><ul><li><a href="Config.html">Config</a><ul class='methods'><li data-type='method'><a href="Config.html#get">get</a></li><li data-type='method'><a href="Config.html#getBoolean">getBoolean</a></li><li data-type='method'><a href="Config.html#getNumber">getNumber</a></li><li data-type='method'><a href="Config.html#set">set</a></li><li data-type='method'><a href="Config.html#settings">settings</a></li></ul></li><li><a href="History.html">History</a><ul class='methods'><li data-type='method'><a href="History.html#canGoBack">canGoBack</a></li><li data-type='method'><a href="History.html#first">first</a></li><li data-type='method'><a href="History.html#getActive">getActive</a></li><li data-type='method'><a href="History.html#getDirection">getDirection</a></li><li data-type='method'><a href="History.html#getHistory">getHistory</a></li><li data-type='method'><a href="History.html#getPrevious">getPrevious</a></li><li data-type='method'><a href="History.html#indexOf">indexOf</a></li><li data-type='method'><a href="History.html#toRoot">toRoot</a></li></ul></li><li><a href="Platform.html">Platform</a><ul class='methods'><li data-type='method'><a href="Platform.html#css">css</a></li><li data-type='method'><a href="Platform.html#dir">dir</a></li><li data-type='method'><a href="Platform.html#do">do</a></li><li data-type='method'><a href="Platform.html#height">height</a></li><li data-type='method'><a href="Platform.html#is">is</a></li><li data-type='method'><a href="Platform.html#isLandscape">isLandscape</a></li><li data-type='method'><a href="Platform.html#isPortrait">isPortrait</a></li><li data-type='method'><a href="Platform.html#isRTL">isRTL</a></li><li data-type='method'><a href="Platform.html#lang">lang</a></li><li data-type='method'><a href="Platform.html#navigatorPlatform">navigatorPlatform</a></li><li data-type='method'><a href="Platform.html#netType">netType</a></li><li data-type='method'><a href="Platform.html#platforms">platforms</a></li><li data-type='method'><a href="Platform.html#ready">ready</a></li><li data-type='method'><a href="Platform.html#registerMethod">registerMethod</a></li><li data-type='method'><a href="Platform.html#userAgent">userAgent</a></li><li data-type='method'><a href="Platform.html#versions">versions</a></li><li data-type='method'><a href="Platform.html#width">width</a></li></ul></li></ul><h3>组件 / Components</h3><ul><li><a href="module-Base_App.html">Base/App</a><ul class='methods'><li data-type='method'><a href="module-Base_App.html#~isEnabled">isEnabled</a></li><li data-type='method'><a href="module-Base_App.html#~isScrolling">isScrolling</a></li><li data-type='method'><a href="module-Base_App.html#~setClass">setClass</a></li><li data-type='method'><a href="module-Base_App.html#~setDisableScroll">setDisableScroll</a></li><li data-type='method'><a href="module-Base_App.html#~setDocTitle">setDocTitle</a></li><li data-type='method'><a href="module-Base_App.html#~setEnabled">setEnabled</a></li><li data-type='method'><a href="module-Base_App.html#~setScrolling">setScrolling</a></li><li data-type='method'><a href="module-Base_App.html#~setTitle">setTitle</a></li></ul></li><li><a href="module-Base_Content.html">Base/Content</a><ul class='methods'><li data-type='method'><a href="module-Base_Content.html#~getContentDimensions">getContentDimensions</a></li><li data-type='method'><a href="module-Base_Content.html#~resize">resize</a></li><li data-type='method'><a href="module-Base_Content.html#~scrollTo">scrollTo</a></li><li data-type='method'><a href="module-Base_Content.html#~scrollToBottom">scrollToBottom</a></li><li data-type='method'><a href="module-Base_Content.html#~scrollToTop">scrollToTop</a></li></ul></li><li><a href="module-Base_Footer.html">Base/Footer</a><ul class='methods'><li data-type='method'><a href="module-Base_Footer.html#~hide">hide</a></li><li data-type='method'><a href="module-Base_Footer.html#~setStyle">setStyle</a></li><li data-type='method'><a href="module-Base_Footer.html#~show">show</a></li><li data-type='method'><a href="module-Base_Footer.html#~toggle">toggle</a></li></ul></li><li><a href="module-Base_Header.html">Base/Header</a><ul class='methods'><li data-type='method'><a href="module-Base_Header.html#~hide">hide</a></li><li data-type='method'><a href="module-Base_Header.html#~setStyle">setStyle</a></li><li data-type='method'><a href="module-Base_Header.html#~show">show</a></li><li data-type='method'><a href="module-Base_Header.html#~toggle">toggle</a></li></ul></li><li><a href="module-base_nav.html">base/nav</a></li></ul><h3>模块 / Modules</h3><ul><li><a href="module-util_util.html">util/util</a><ul class='methods'><li data-type='method'><a href="module-util_util.html#.assign">assign</a></li><li data-type='method'><a href="module-util_util.html#.clamp">clamp</a></li><li data-type='method'><a href="module-util_util.html#.defaults">defaults</a></li><li data-type='method'><a href="module-util_util.html#.docReady">docReady</a></li><li data-type='method'><a href="module-util_util.html#.firstUpperCase">firstUpperCase</a></li><li data-type='method'><a href="module-util_util.html#.focusOutActiveElement">focusOutActiveElement</a></li><li data-type='method'><a href="module-util_util.html#.hasFocus">hasFocus</a></li><li data-type='method'><a href="module-util_util.html#.hasFocusedTextInput">hasFocusedTextInput</a></li><li data-type='method'><a href="module-util_util.html#.hasPointerMoved">hasPointerMoved</a></li><li data-type='method'><a href="module-util_util.html#.isActive">isActive</a></li><li data-type='method'><a href="module-util_util.html#.isArray">isArray</a></li><li data-type='method'><a href="module-util_util.html#.isBlank">isBlank</a></li><li data-type='method'><a href="module-util_util.html#.isBoolean">isBoolean</a></li><li data-type='method'><a href="module-util_util.html#.isCheckedProperty">isCheckedProperty</a></li><li data-type='method'><a href="module-util_util.html#.isDefined">isDefined</a></li><li data-type='method'><a href="module-util_util.html#.isFunction">isFunction</a></li><li data-type='method'><a href="module-util_util.html#.isNumber">isNumber</a></li><li data-type='method'><a href="module-util_util.html#.isObject">isObject</a></li><li data-type='method'><a href="module-util_util.html#.isPlainObject">isPlainObject</a></li><li data-type='method'><a href="module-util_util.html#.isPresent">isPresent</a></li><li data-type='method'><a href="module-util_util.html#.isPrimitive">isPrimitive</a></li><li data-type='method'><a href="module-util_util.html#.isString">isString</a></li><li data-type='method'><a href="module-util_util.html#.isTextInput">isTextInput</a></li><li data-type='method'><a href="module-util_util.html#.isTrueProperty">isTrueProperty</a></li><li data-type='method'><a href="module-util_util.html#.isUndefined">isUndefined</a></li><li data-type='method'><a href="module-util_util.html#.merge">merge</a></li><li data-type='method'><a href="module-util_util.html#.parsePxUnit">parsePxUnit</a></li><li data-type='method'><a href="module-util_util.html#.pointerCoord">pointerCoord</a></li><li data-type='method'><a href="module-util_util.html#.setElementClass">setElementClass</a></li><li data-type='method'><a href="module-util_util.html#.transitionEnd">transitionEnd</a></li><li data-type='method'><a href="module-util_util.html#.urlChange">urlChange</a></li></ul></li></ul><h3>事件 / Events</h3><ul><li><a href="global.html#event:onScroll">onScroll</a></li><li><a href="global.html#event:onScrollEnd">onScrollEnd</a></li><li><a href="global.html#event:onScrollStart">onScrollStart</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_i">_i</a></li><li><a href="global.html#dismiss">dismiss</a></li><li><a href="global.html#isIOS">isIOS</a></li><li><a href="global.html#isIosUIWebView">isIosUIWebView</a></li><li><a href="global.html#isSafari">isSafari</a></li><li><a href="global.html#isWKWebView">isWKWebView</a></li><li><a href="global.html#present">present</a></li></ul>
</nav>

<div id="main">

    <article class="content">

        
        <h1 class="page-title">util/util.js</h1>
        

        




    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by Hsiang on 2017/2/8.
 */

/**
 * @module util/util
 * @description
 *
 * ## 工具库
 *
 * 这里提供了Vimo使用的工具库, 当然业务代码中也可以按需使用
 *
 * */

/**
 * @function isBoolean
 * @description 判断传入值是否为 Boolean
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isBoolean = (val) => typeof val === 'boolean'
/**
 * @function isString
 * @description 判断传入值是否为 String
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isString = (val) => typeof val === 'string'
/**
 * @function isNumber
 * @description 判断传入值是否为 Number
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isNumber = (val) => typeof val === 'number'
/**
 * @function isFunction
 * @description 判断传入值是否为 Function
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isFunction = (val) => typeof val === 'function'
/**
 * @function isDefined
 * @description 判断传入值已定义
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isDefined = (val) => typeof val !== 'undefined'
/**
 * @function isUndefined
 * @description 判断传入值未定义
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isUndefined = (val) => typeof val === 'undefined'
/**
 * @function isPresent
 * @description 判断传入值不为空
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isPresent = (val) => val !== undefined &amp;&amp; val !== null
/**
 * @function isBlank
 * @description 判断传入值为空
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isBlank = (val) => val === undefined || val === null
/**
 * @function isObject
 * @description 判断传入值为 Object
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isObject = (val) => typeof val === 'object'
/**
 * @function isArray
 * @description 判断传入值为 Array
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isArray = Array.isArray
/**
 * @function isPlainObject
 * @description 判断传入值为 纯对象
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export const isPlainObject = (val) => isObject(val) &amp;&amp; Object.getPrototypeOf(val) == Object.prototype
/**
 * @function isPrimitive
 * @description 判断传入值为 基础变量
 * @param {*} val - 判断值
 * @return {Boolean}
 * @static
 * */
export function isPrimitive (val) {
  return isString(val) || isBoolean(val) || (isNumber(val) &amp;&amp; !isNaN(val))
}

/**
 * 判断元素属性是否存在设置
 * 一般vue的props不需要这个, 因为其内部会进行这个判断, 没有传入值则为false
 * @param {string} val - 判断值
 * @example
 * 'true' => true
 * 'on' => true
 * '' => true
 * */
export function isTrueProperty (val) {
  if (typeof val === 'string') {
    val = val.toLowerCase().trim()
    return (val === 'true' || val === 'on' || val === '')
  }
  return !!val
}

/**
 * 判断Checked属性的值
 * 判断是否相等，比如：'true'和true，'0'和0
 * @param {*} a - 判断的第一个值
 * @param {*} b - 判断的第二个值
 * return {Boolean}
 *
 * @example
 * undefined == null
 * undefined == ''
 * null == ''
 * true == 'true'
 * false == 'false'
 * 0 == '0'
 * */
export function isCheckedProperty (a, b) {
  if (a === undefined || a === null || a === '') {
    return (b === undefined || b === null || b === '')

  } else if (a === true || a === 'true') {
    return (b === true || b === 'true')

  } else if (a === false || a === 'false') {
    return (b === false || b === 'false')

  } else if (a === 0 || a === '0') {
    return (b === 0 || b === '0')
  }

  // not using strict comparison on purpose
  return (a == b) // tslint:disable-line
};

// RequestAnimationFrame的兼容腻子(Android 4.3 and below)
/*! @author Paul Irish */
/*! @source https://gist.github.com/paulirish/1579671 */
(function () {
  var rafLastTime = 0
  if (!window.requestAnimationFrame) {
    window.requestAnimationFrame = function (callback) {
      var currTime = Date.now()
      var timeToCall = Math.max(0, 16 - (currTime - rafLastTime))

      var id = window.setTimeout(function () {
        callback(currTime + timeToCall)
      }, timeToCall)

      rafLastTime = currTime + timeToCall
      return id
    }
  }

  if (!window.cancelAnimationFrame) {
    /**
     * @param {number} id
     * */
    window.cancelAnimationFrame = function (id) { clearTimeout(id) }
  }
})()

// requestAnimationFrame/cancelAnimationFrame包装
export const nativeRaf = window.requestAnimationFrame.bind(window)
export const cancelRaf = window.cancelAnimationFrame.bind(window)

/**
 * transitionEnd事件注册，绑定的函数触发后会自动解绑
 * @param {HTMLElement} el 绑定的元素
 * @param {Function} callback 绑定的函数
 * @return {Function}  取消绑定的函数
 * */
export function transitionEnd (el, callback) {
  const unRegs = []

  function unregister () {
    unRegs.forEach(function (unReg) {
      unReg &amp;&amp; unReg()
    })
  }

  function onTransitionEnd (ev) {
    if (el === ev.target) {
      unregister()
      callback(ev)
    }
  }

  if (el) {
    registerListener(el, 'webkitTransitionEnd', onTransitionEnd, {}, unRegs)
    registerListener(el, 'transitionend', onTransitionEnd, {}, unRegs)
  }

  return unregister
}

/**
 *
 * 给addEventListener增加passive属性, 如果不支持将降级使用!!opts.capture
 *
 * @param {any} ele                                   - 监听的元素
 * @param {string} eventName                          - 监听的名称
 * @param {function} callback                         - 回调
 * @param {object=} opts EventListenerOptions          - addEventListener的第三个参数
 * @param {array} unregisterListenersCollection - 如果提供Function[], 则unReg将压如这个列表中
 *
 * @return {Function} 返回removeEventListener的函数
 *
 * @private
 */
export function registerListener (ele, eventName, callback, opts, unregisterListenersCollection) {
  // Test via a getter in the options object to see if the passive property is accessed
  let uiEvtOpts
  try {
    var opts = Object.defineProperty({}, 'passive', {
      get: function () {
        uiEvtOpts = true
      }
    })
    window.addEventListener('optsTest', null, opts)
  } catch (e) { }

  // use event listener options when supported
  // otherwise it's just a boolean for the "capture" arg
  const listenerOpts = uiEvtOpts ? {
    'capture': !!opts.capture,
    'passive': !!opts.passive
  } : !!opts.capture

  // use the native addEventListener
  ele['addEventListener'](eventName, callback, listenerOpts)

  let unReg = function unregisterListener () {
    ele['removeEventListener'](eventName, callback, listenerOpts)
  }

  if (unregisterListenersCollection &amp;&amp; Array.isArray(unregisterListenersCollection)) {
    unregisterListenersCollection.push(unReg)
  }

  return unReg
}

/**
 * urlChange注册，绑定的函数触发后会自动解绑
 * @param {function} callback
 * @return {function}
 * */
export function urlChange (callback) {
  const URL_EVENT = ['hashchange', 'popstate']
  URL_EVENT.forEach(function (eventName) {
    window.addEventListener(eventName, onEvent)
  })

  return unregister

  function unregister () {
    URL_EVENT.forEach(function (eventName) {
      window.removeEventListener(eventName, onEvent)
    })
  }

  /**
   * @param {UIEvent} ev
   * */
  function onEvent (ev) {
    // auto unregister
    unregister()
    callback(ev)
  }
}

/**
 * document的ready事件监听
 * @param {Function} callback - 回调函数
 * @return {Promise} 返回promise，completed后自动解绑
 * */
export function docReady (callback) {
  let promise = null // Promise;

  if (!callback) {
    // a callback wasn't provided, so let's return a promise instead
    promise = new Promise(function (resolve) { callback = resolve })
  }

  if (document.readyState === 'complete' || document.readyState === 'interactive') {
    callback()

  } else {
    document.addEventListener('DOMContentLoaded', completed, false)
    window.addEventListener('load', completed, false)
  }

  return promise

  function completed () {
    document.removeEventListener('DOMContentLoaded', completed, false)
    window.removeEventListener('load', completed, false)
    callback()
  }
}

/**
 * 根据click或者touch的事件对象, 获取event事件对象中的点击位置(坐标xy值)
 * @param {any} ev - 事件对象
 * @return  {PointerCoordinates} - 坐标
 * */
export function pointerCoord (ev) {
  if (ev) {
    var changedTouches = ev.changedTouches
    if (changedTouches &amp;&amp; changedTouches.length > 0) {
      var touch = changedTouches[0]
      return {x: touch.clientX, y: touch.clientY}
    }
    var pageX = ev.pageX
    if (pageX !== undefined) {
      return {x: pageX, y: ev.pageY}
    }
  }
  return {x: 0, y: 0}
}

/**
 * 判断是否移动
 * @param {number} threshold - 阈值
 * @param {PointerCoordinates} startCoord - 开始坐标
 * @param {PointerCoordinates} endCoord - 结束坐标
 * */
export function hasPointerMoved (threshold, startCoord, endCoord) {
  if (startCoord &amp;&amp; endCoord) {
    const deltaX = (startCoord.x - endCoord.x)
    const deltaY = (startCoord.y - endCoord.y)
    const distance = deltaX * deltaX + deltaY * deltaY
    return distance > (threshold * threshold)
  }
  return false
}

/**
 * 判断元素是否在激活状态, 比如input
 * @param {HTMLElement} ele - 元素
 * @return {boolean}
 * */
export function isActive (ele) {
  return !!(ele &amp;&amp; (document.activeElement === ele))
}

/**
 * 判断元素是否在focus状态, 比如input
 * @param {HTMLElement} ele - 元素
 * @return {boolean}
 * */
export function hasFocus (ele) {
  return isActive(ele) &amp;&amp; (ele.parentElement.querySelector(':focus') === ele)
}

/**
 * 判断TEXTAREA或者INPUT是否可输入
 * @param {HTMLElement} ele - 元素
 * @return {boolean}
 * */
export function isTextInput (ele) {
  return !!ele &amp;&amp;
    (ele.tagName === 'TEXTAREA' ||
    ele.contentEditable === 'true' ||
    (ele.tagName === 'INPUT' &amp;&amp; !(NON_TEXT_INPUT_REGEX.test(ele.type))))
}

export const NON_TEXT_INPUT_REGEX = /^(radio|checkbox|range|file|submit|reset|color|image|button)$/i

/**
 * 判断TEXTAREA或者INPUT是否在focus状态
 * @return {boolean}
 * */
export function hasFocusedTextInput () {
  const ele = document.activeElement // &lt;HTMLElement>
  if (isTextInput(ele)) {
    return (ele.parentElement.querySelector(':focus') === ele)
  }
  return false
}

/**
 * blur out TEXTAREA或者INPUT的状态
 * @return {boolean}
 * */
export function focusOutActiveElement () {
  const activeElement = document.activeElement //  &lt;HTMLElement>
  activeElement &amp;&amp; activeElement.blur &amp;&amp; activeElement.blur()
}

/**
 * 元素的class操作
 * @param {HTMLElement} ele - 添加、删除class的元素
 * @param {string} className
 * @param {boolean} add - 是添加还是删除
 * */
export function setElementClass (ele, className, add) {
  if (add) {
    _addClass(ele, className)
  } else {
    _removeClass(ele, className)
  }

  /**
   * 元素的class操作
   * */
  function _hasClass (obj, cls) {
    return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'))
  }

  function _addClass (obj, cls) {
    if (!_hasClass(obj, cls)) {
      obj.className += ' ' + cls
    }
  }

  function _removeClass (obj, cls) {
    if (_hasClass(obj, cls)) {
      var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)')
      obj.className = obj.className.replace(reg, ' ').trim()
    }
  }

}

// /**
//  * 驼峰命名
//  * hello-world -> helloWorld
//  * */
// export function camelCase (name) {
//   const SPECIAL_CHARS_REGEXP = /([\:\-\_]+(.))/g
//   const MOZ_HACK_REGEXP = /^moz([A-Z])/
//   return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {
//     return offset ? letter.toUpperCase() : letter
//   }).replace(MOZ_HACK_REGEXP, 'Moz$1')
// }

/**
 * Given a min and max, restrict the given number
 * to the range.
 * 如果n的大小在max和min之间，则返回n
 *
 * @param {number} min the minimum
 * @param  {number}n the value
 * @param {number} max the maximum
 */
export function clamp (min, n, max) {
  return Math.max(min, Math.min(n, max))
}

/**
 * The assign() method is used to copy the values of all enumerable own
 * properties from one or more source objects to a target object. It will
 * return the target object. When available, this method will use
 * `Object.assign()` under-the-hood.
 *
 * 参数后面的对象合并到第一个对象中，以最右面的对象中属性值为准
 *
 * @param target  The target object
 * @param source(s)  The source object
 * @example Object.assign({a:1},{b:10},{b:1,a:2}) => 返回第一个对象{a: 2, b: 1}
 */
export function assign (...args) {
  if (typeof Object.assign !== 'function') {
    // use the old-school shallow extend method
    return _baseExtend(args[0], [].slice.call(args, 1), false)
  }

  // use the built in ES6 Object.assign method
  return Object.assign.apply(null, args)
}

/**
 * Do a deep extend (merge). 深度合并
 *
 * @param {any} dst the destination
 * @param ... the param objects
 */
export function merge (dst, ...args) {
  return _baseExtend(dst, [].slice.call(arguments, 1), true)
}

export function deepClone (obj) {
  if (Array.isArray(obj)) {
    return obj.map(deepClone)
  } else if (obj &amp;&amp; typeof obj === 'object') {
    var cloned = {}
    var keys = Object.keys(obj)
    for (var i = 0, l = keys.length; i &lt; l; i++) {
      var key = keys[i]
      cloned[key] = deepClone(obj[key])
    }
    return cloned
  } else {
    return obj
  }
}

/**
 * Apply default arguments if they don't exist in
 * the first object.
 * 优先使用最左边的对象中的数据，即保持默认值，添加新值
 *
 * @example defaults({a:1},{b:1,a:2},{b:10}) => 返回第一个对象 {a: 1, b: 10}
 * @param {any} dest the destination to apply defaults to.
 */
export function defaults (dest, ...args) {
  for (var i = arguments.length - 1; i >= 1; i--) {
    var source = arguments[i]
    if (source) {
      for (var key in source) {
        if (source.hasOwnProperty(key) &amp;&amp; !dest.hasOwnProperty(key)) {
          dest[key] = source[key]
        }
      }
    }
  }
  return dest
}

/**
 * 对象合并
 * @param {any} dst
 * @param {any} objs
 * @param {boolean} deep
 * @private
 * */
function _baseExtend (dst, objs, deep) {
  for (var i = 0, ii = objs.length; i &lt; ii; ++i) {
    var obj = objs[i]
    if (!obj || !isObject(obj) &amp;&amp; !isFunction(obj)) continue
    var keys = Object.keys(obj)
    for (var j = 0, jj = keys.length; j &lt; jj; j++) {
      var key = keys[j]
      var src = obj[key]

      if (deep &amp;&amp; isObject(src)) {
        if (!isObject(dst[key])) dst[key] = isArray(src) ? [] : {}
        _baseExtend(dst[key], [src], true)
      } else {
        dst[key] = src
      }
    }
  }

  return dst
}

/**
 * @desc 首字母大写
 * @param {string} str
 * @return {string}
 * */
export function firstUpperCase (str) {
  return str.toString()[0].toUpperCase() + str.toString().slice(1)
}

/**
 * @param {string} val
 * @return {number}
 * */
export function parsePxUnit (val) {
  return (!!val &amp;&amp; val.indexOf('px') > 0) ? parseInt(val, 10) : 0
}

export function removeArrayItem (array, item) {
  const index = array.indexOf(item)
  // ~index => index*(-1)-1
  // ~-1 => 0
  return !!~index &amp;&amp; !!array.splice(index, 1)
}</code></pre>
        </article>
    </section>





    </article>
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>     using the <a href="https://github.com/clenemt/docdash">docdash</a> theme and modified by Songtao.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
